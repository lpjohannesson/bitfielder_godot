[gd_scene load_steps=28 format=3 uid="uid://dofu8ik7dtua1"]

[ext_resource type="Script" path="res://assets/scenes/game_scene.gd" id="1_jdhth"]
[ext_resource type="Shader" path="res://assets/shaders/shadow.gdshader" id="2_d1sjh"]
[ext_resource type="Script" path="res://assets/objects/block/block_world.gd" id="3_d5c5g"]
[ext_resource type="Script" path="res://assets/objects/block/block_type.gd" id="3_g8yh0"]
[ext_resource type="Resource" uid="uid://dpvrrnogs311x" path="res://assets/resources/blocks/air.tres" id="5_0hxew"]
[ext_resource type="Resource" uid="uid://ds7x6qly7xj3f" path="res://assets/resources/blocks/dirt.tres" id="6_8bsq4"]
[ext_resource type="PackedScene" uid="uid://omkj7o5gbs7m" path="res://assets/objects/block/block_chunk.tscn" id="7_ngtea"]
[ext_resource type="Resource" uid="uid://mw5um37l7kdl" path="res://assets/resources/blocks/grass.tres" id="7_wba84"]
[ext_resource type="Script" path="res://assets/objects/block/block_generator.gd" id="8_isevc"]
[ext_resource type="Resource" uid="uid://c5ng4qxptscuu" path="res://assets/resources/blocks/stone.tres" id="8_ra63o"]
[ext_resource type="Resource" uid="uid://lon2d5qckn1k" path="res://assets/resources/blocks/wood_log.tres" id="9_5cj7q"]
[ext_resource type="Resource" uid="uid://bxbdoq7jf6a38" path="res://assets/resources/blocks/ore_coal.tres" id="9_8q8b7"]
[ext_resource type="PackedScene" uid="uid://qhbwwmg422j6" path="res://assets/objects/player.tscn" id="9_x3p4l"]
[ext_resource type="Resource" uid="uid://b0kv0610wegjy" path="res://assets/resources/blocks/torch.tres" id="10_4knmu"]
[ext_resource type="PackedScene" uid="uid://qnuf5qyuxwxp" path="res://assets/objects/block/render/block_particle.tscn" id="10_23lyr"]
[ext_resource type="Resource" uid="uid://2m1yu75b8ebw" path="res://assets/resources/blocks/leaves.tres" id="11_mtun2"]
[ext_resource type="Resource" uid="uid://bbv4vutd5bnrl" path="res://assets/resources/blocks/bush.tres" id="12_1cg8h"]
[ext_resource type="Resource" uid="uid://dmgl8jsafc8o6" path="res://assets/resources/blocks/stick.tres" id="12_ko7e1"]
[ext_resource type="Resource" uid="uid://bswkupq3po3qp" path="res://assets/resources/blocks/mushroom.tres" id="13_0lk5q"]
[ext_resource type="Resource" uid="uid://b3n0tjfrhx877" path="res://assets/resources/blocks/wheat.tres" id="14_a23sl"]
[ext_resource type="Resource" uid="uid://uuieiq6nosiq" path="res://assets/resources/blocks/wood_planks.tres" id="15_4ehpt"]
[ext_resource type="Resource" uid="uid://7n2ngwx0enf7" path="res://assets/resources/blocks/water.tres" id="16_6c2a7"]
[ext_resource type="Resource" uid="uid://dg6mhdsulrrt0" path="res://assets/resources/blocks/wool.tres" id="19_t05lu"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_hm8g0"]
shader = ExtResource("2_d1sjh")
shader_parameter/back_shade = 0.2
shader_parameter/shadow_shade = 0.3

[sub_resource type="FastNoiseLite" id="FastNoiseLite_fjqqn"]
frequency = 0.1

[sub_resource type="Gradient" id="Gradient_7u5hj"]
offsets = PackedFloat32Array(0.2, 0.4, 0.6, 0.8)
colors = PackedColorArray(0.13583, 0.0257736, 0.20906, 1, 0.18053, 0.321128, 0.573004, 1, 0, 0.705882, 0.811765, 1, 0.6, 1, 0.966667, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_uk2xc"]
gradient = SubResource("Gradient_7u5hj")
width = 1
fill_from = Vector2(0, 1)
fill_to = Vector2(0, 0)

[node name="GameScene" type="Node2D" node_paths=PackedStringArray("block_world", "shadow_viewport")]
script = ExtResource("1_jdhth")
block_world = NodePath("BlockWorld")
shadow_viewport = NodePath("ShadowViewport")
shadow_shader = SubResource("ShaderMaterial_hm8g0")

[node name="BlockWorld" type="Node2D" parent="." node_paths=PackedStringArray("chunks", "particles", "generator")]
scale = Vector2(16, 16)
script = ExtResource("3_d5c5g")
block_types = Array[ExtResource("3_g8yh0")]([ExtResource("5_0hxew"), ExtResource("6_8bsq4"), ExtResource("7_wba84"), ExtResource("8_ra63o"), ExtResource("9_8q8b7"), ExtResource("9_5cj7q"), ExtResource("15_4ehpt"), ExtResource("12_ko7e1"), ExtResource("11_mtun2"), ExtResource("12_1cg8h"), ExtResource("13_0lk5q"), ExtResource("14_a23sl"), ExtResource("10_4knmu"), ExtResource("19_t05lu"), ExtResource("16_6c2a7")])
chunk_scene = ExtResource("7_ngtea")
particle_scene = ExtResource("10_23lyr")
chunks = NodePath("Chunks")
particles = NodePath("Particles")
generator = NodePath("Generator")

[node name="Chunks" type="Node2D" parent="BlockWorld"]

[node name="Particles" type="Node2D" parent="BlockWorld"]
scale = Vector2(0.0625, 0.0625)

[node name="Generator" type="Node" parent="BlockWorld" node_paths=PackedStringArray("block_world")]
script = ExtResource("8_isevc")
block_world = NodePath("..")
noise = SubResource("FastNoiseLite_fjqqn")

[node name="Player" parent="." instance=ExtResource("9_x3p4l")]
position = Vector2(492, 595)

[node name="ShadowViewport" type="SubViewport" parent="."]
transparent_bg = true
handle_input_locally = false
canvas_item_default_texture_filter = 0
size = Vector2i(40, 40)
render_target_update_mode = 4

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0, 0.5)

[node name="TextureRect" type="TextureRect" parent="ParallaxBackground/ParallaxLayer"]
offset_top = -128.0
offset_right = 512.0
offset_bottom = 896.0
texture = SubResource("GradientTexture2D_uk2xc")
expand_mode = 2
